(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,'/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  /* vertical-align: baseline; */\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\n\n.hidden {\n  display: none;\n}\n\ninput[type="text"]:not(#new-task) {\n  display: block;\n}\n\n.invalid::after {\n  content: "Invalid name";\n}\n\nbody {\n  background: #181a1b;\n  color: white;\n  display: grid;\n  grid: 50px 1fr / minmax(50px, 15%) 1fr;\n}\n\ninput,\nselect,\nbutton {\n  background: rgb(43, 42, 51);\n  color: rgb(211, 211, 211);\n  border: grey;\n  border-radius: 5px;\n  line-height: 1.4rem;\n}\n\nbutton {\n  cursor: pointer;\n}\n\ninput[type="checkbox"] {\n  appearance: none;\n}\n\n#task-list {\n  display: flex;\n  flex-direction: column-reverse;\n  order: -1;\n  gap: 0.5rem;\n}\n\n.task-label span {\n  display: inline-block;\n  width: 25px;\n  height: 19px;\n  margin: 0 5px -4px 0;\n}\n\n.task-label span::before {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  width: 1rem;\n  height: 1rem;\n  background: transparent;\n  border: 2px solid #ff4040;\n}\n\n.checkbox:checked + .task-label span::before {\n  background-color: rgb(255, 64, 64);\n}\n\n.checkbox:checked + .task-label {\n  text-decoration: line-through;\n  color: rgb(180, 180, 180);\n}\n\nheader {\n  display: contents;\n}\n\nheader > * {\n  align-self: center;\n}\n\nh1 {\n  font-size: 1.5rem;\n}\n\nh1 span#do {\n  color: rgb(255, 64, 64);\n  display: inline;\n  font-weight: bold;\n}\n\n#app-name,\naside,\naside * {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  justify-self: center;\n  text-align: center;\n}\n\naside {\n  width: 75%;\n}\n\n.current-context {\n  background: rgb(255, 64, 64);\n  color: #181a1b;\n  font-weight: bold;\n  cursor: default;\n}\n\nheader #task-input {\n  grid-column: 2;\n}\n\nmain {\n  grid-column: 2;\n}\n\naside {\n  grid-row: 2;\n  grid-column: 1;\n  align-self: start;\n}\n\n.project-button {\n  display: block;\n}\n\n.project-button:not(.current-context):hover,\n#add-project:hover {\n  background: rgba(43, 42, 51, 0.8);\n}\n\n.task {\n  width: 85%;\n}\n\n.task-container {\n  display: flex;\n  justify-content: space-between;\n}\n\n.edit-menu > * {\n  margin: 0.5rem;\n}\n\n.edit-menu > * > * {\n  margin: 0.25rem;\n}\n\n.right {\n  display: flex;\n  align-content: center;\n  line-height: 1.4rem;\n  gap: 15px;\n}\n\n#task-input {\n  display: flex;\n  gap: 0.5rem;\n  align-content: center;\n}\n#task-input > * {\n  padding: 0.2rem 0.4rem;\n}\n\n#new-task {\n  width: 60%;\n}\n\n#add-task {\n  background: rgba(255, 64, 64, 1);\n  color: #181a1b;\n  font-weight: bold;\n  font-size: 1.8rem;\n  width: 2rem;\n  height: 2rem;\n  display: grid;\n}\n\n#add-task:hover {\n  background: rgba(255, 64, 64, 0.9);\n}\n\n.project-header {\n  margin-bottom: 0.5rem;\n}\n',""]);const c=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var d=[].concat(e[u]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],c=0;c<e.length;c++){var l=e[c],u=r.base?l[0]+r.base:l[0],d=o[u]||0,s="".concat(u," ").concat(d);o[u]=d+1;var p=n(s),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=a(m,r);r.byIndex=c,t.splice(c,0,{identifier:s,updater:f,references:1})}i.push(s)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var l=r(e,a),u=0;u<o.length;u++){var d=n(o[u]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),a=n.n(r),o=n(569),i=n.n(o),c=n(565),l=n.n(c),u=n(216),d=n.n(u),s=n(589),p=n.n(s),m=n(426),f={};f.styleTagTransform=p(),f.setAttributes=l(),f.insert=i().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=d(),t()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals,Math.pow(10,8);var h=6e4,g=36e5,v=86400,b=31556952,y=2629746;function x(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function C(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var k={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,S=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,N=/^([+-])(\d{2})(?::?(\d{2}))?$/;function T(e){return e?parseInt(e):1}function E(e){return e&&parseFloat(e.replace(",","."))||0}var D=[31,null,31,30,31,30,31,31,30,31,30,31];function M(e){return e%400==0||e%4==0&&e%100!=0}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function q(e){x(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===j(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function I(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function A(e){x(1,arguments);var t=q(e);return t.setHours(0,0,0,0),t}var L=864e5;function O(e,t){x(2,arguments);var n=A(e),r=A(t),a=n.getTime()-I(n),o=r.getTime()-I(r);return Math.round((a-o)/L)}function F(e,t){x(2,arguments);var n=q(e),r=q(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function U(e){x(1,arguments);var t=q(e);return Math.floor(t.getMonth()/3)+1}function Y(e,t){x(2,arguments);var n=q(e),r=q(t);return 4*(n.getFullYear()-r.getFullYear())+(U(n)-U(r))}var $={};function Z(){return $}function _(e,t){var n,r,a,o,i,c,l,u;x(1,arguments);var d=Z(),s=C(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(c=i.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=q(e),m=p.getDay(),f=(m<s?7:0)+m-s;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}var R=6048e5;function z(e,t,n){x(2,arguments);var r=_(e,n),a=_(t,n),o=r.getTime()-I(r),i=a.getTime()-I(a);return Math.round((o-i)/R)}function H(e,t){x(2,arguments);var n=q(e),r=q(t);return n.getFullYear()-r.getFullYear()}function J(e,t){return x(2,arguments),q(e).getTime()-q(t).getTime()}var P={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Q="trunc";function G(e){return e?P[e]:P[Q]}function W(e,t,n){x(2,arguments);var r=J(e,t)/g;return G(null==n?void 0:n.roundingMethod)(r)}function B(e,t,n){x(2,arguments);var r=J(e,t)/h;return G(null==n?void 0:n.roundingMethod)(r)}function K(e,t,n){x(2,arguments);var r=J(e,t)/1e3;return G(null==n?void 0:n.roundingMethod)(r)}function V(e){if(!e)return"No due date";const t=function(e,t){var n;x(1,arguments);var r=C(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,o=function(e){var t,n={},r=e.split(k.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],k.timeZoneDelimiter.test(n.date)&&(n.date=e.split(k.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=k.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(o.date){var i=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);a=function(e,t){if(null===t)return new Date(NaN);var n=e.match(w);if(!n)return new Date(NaN);var r=!!n[4],a=T(n[1]),o=T(n[2])-1,i=T(n[3]),c=T(n[4]),l=T(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,c,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(D[t]||(M(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(M(e)?366:365)}(t,a)?(u.setUTCFullYear(t,o,Math.max(a,i)),u):new Date(NaN)}(i.restDateString,i.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var c,l=a.getTime(),u=0;if(o.time&&(u=function(e){var t=e.match(S);if(!t)return NaN;var n=E(t[1]),r=E(t[2]),a=E(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*g+r*h+1e3*a:NaN}(o.time),isNaN(u)))return new Date(NaN);if(!o.timezone){var d=new Date(l+u),s=new Date(0);return s.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),s.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),s}return c=function(e){if("Z"===e)return 0;var t=e.match(N);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*g+a*h):NaN}(o.timezone),isNaN(c)?new Date(NaN):new Date(l+u+c)}(e),n=new Date,r=function(e,t){x(2,arguments);var n=q(e),r=q(t);return n.getTime()<r.getTime()}(t,n)?"Overdue since ":"Due ";return r+function(e,t,n){x(2,arguments);var r,a=0,o=q(e),i=q(t);if(null!=n&&n.unit)"second"===(r=null==n?void 0:n.unit)?a=K(o,i):"minute"===r?a=B(o,i):"hour"===r?a=W(o,i):"day"===r?a=O(o,i):"week"===r?a=z(o,i):"month"===r?a=F(o,i):"quarter"===r?a=Y(o,i):"year"===r&&(a=H(o,i));else{var c=K(o,i);Math.abs(c)<60?(a=K(o,i),r="second"):Math.abs(c)<3600?(a=B(o,i),r="minute"):Math.abs(c)<v&&Math.abs(O(o,i))<1?(a=W(o,i),r="hour"):Math.abs(c)<604800&&(a=O(o,i))&&Math.abs(a)<7?r="day":Math.abs(c)<y?(a=z(o,i),r="week"):Math.abs(c)<7889238?(a=F(o,i),r="month"):Math.abs(c)<b&&Y(o,i)<4?(a=Y(o,i),r="quarter"):(a=H(o,i),r="year")}return new Intl.RelativeTimeFormat(null==n?void 0:n.locale,{localeMatcher:null==n?void 0:n.localeMatcher,numeric:(null==n?void 0:n.numeric)||"auto",style:null==n?void 0:n.style}).format(a,r)}(t,n)}const X=e=>{const t=document.createElement("option");return"default"===e?(t.setAttribute("value","default"),t.textContent="None"):(t.setAttribute("value",e),t.textContent=e),t},ee=(()=>{let e="default",t={default:[]},n=["default"],r=0;const a=()=>{t=JSON.parse(localStorage.getItem("map")),n=JSON.parse(localStorage.getItem("contexts")),r=+localStorage.getItem("count")},o=()=>{localStorage.setItem("map",JSON.stringify(t)),localStorage.setItem("contexts",JSON.stringify(n)),localStorage.setItem("count",r),a()};return function(e){let t;try{t=window.localStorage;const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()&&(localStorage.getItem("count")?a():o()),{getCurrent:()=>e,getContexts:()=>n,set:r=>(e=r,t[e]||(t[e]=[],n=[...n,e],o()),"default"===e?[].concat(...Object.values(t)):t[e]),addTask(n){const a=(e=>(r+=1,{...e,index:r}))(n);return t[e].push(a),o(),a},deleteTask({context:e,index:n}){const{length:r}=t[e];for(let a=0;a<r;a+=1)t[e][a].index===n&&t[e].splice(a,1);o()},modifyTask({context:e,index:n},r){const a=t[e].findIndex((e=>e.index===n));[...Object.entries(r)].forEach((([n,r])=>{t[e][a][n]=r}));const i=t[e][a];r.context&&(t[r.context].push(i),t[e].splice(a,1)),o()},isContext:e=>e in t}})(),te=document.querySelector("h2.project-header"),ne=document.querySelector("input#new-task"),re=document.querySelector("input#due-date"),ae=document.querySelector("button#add-task"),oe=document.querySelector("ul#task-list"),ie=document.querySelector("nav"),ce=document.querySelector("button#add-project"),le=document.querySelector("#project-menu"),ue=document.querySelector("input#new-project");window.onload=()=>{ne.value="",ne.focus()};const de=(e=!0)=>{e||!le.classList.contains("hidden")?(ce.classList.toggle("hidden"),le.classList.toggle("hidden"),le.classList.contains("hidden")?ne.focus():ue.focus()):ne.focus()},se=()=>{const e=document.querySelector(".edit-menu");e&&e.remove()},pe=(e,t)=>{const n=function({name:e,dueDate:t,completed:n,context:r,index:a}){const o=document.createElement("li");o.setAttribute("data-index",`${a}`),o.className="task "+(n?"completed":"");const i=document.createElement("div");i.className="left";const c=document.createElement("input");c.className="checkbox",c.type="checkbox",c.id=`checkbox-${a}`,c.checked=n;const l=document.createElement("label");l.htmlFor=`checkbox-${a}`,l.texContext=e,l.className="task-label",l.append(document.createElement("span")),l.append(document.createTextNode(`${e}`));const u=document.createElement("div");u.className="right";const d=document.createElement("span");d.className="project-name",d.textContent="default"===r?"":r;const s=document.createElement("span");s.className="due-date",s.textContent=V(t);const p=document.createElement("button");p.className="edit",p.textContent="Edit";const m=document.createElement("button");m.className="delete",m.textContent="Delete",i.append(c),i.appendChild(l),u.appendChild(d),u.appendChild(s),u.appendChild(p),u.appendChild(m);const f=document.createElement("div");return f.className="task-container",f.appendChild(i),f.appendChild(u),o.appendChild(f),o}(e),r=n.querySelector(".checkbox"),a=n.querySelector(".project-name"),o=n.querySelector(".due-date"),i=n.querySelector(".edit"),c=n.querySelector(".delete");t?a.classList.remove("hidden"):a.classList.add("hidden"),r.addEventListener("change",(()=>{n.classList.toggle("completed"),ee.modifyTask(e,{completed:r.checked}),o.textContent=r.checked?"Completed":V(e.dueDate)})),i.addEventListener("click",(()=>{se();const t=function({name:e,dueDate:t,context:n,index:r},a){const o=document.createElement("form");o.setAttribute("data-index",r),o.className="edit-menu";const i=document.createElement("label");i.setAttribute("for","edit-name"),i.textContent="Change task",o.appendChild(i);const c=document.createElement("input");c.setAttribute("id","edit-name"),c.setAttribute("type","text"),c.setAttribute("value",e),i.appendChild(c);const l=document.createElement("label");l.setAttribute("for","edit-due-date"),l.textContent="Change date",o.appendChild(l);const u=document.createElement("input");u.setAttribute("id","edit-due-date"),u.setAttribute("type","date"),t&&u.setAttribute("value",t.slice(0,-6)),l.appendChild(u);const d=document.createElement("label");d.setAttribute("for","edit-project"),d.textContent="Select project",o.appendChild(d);const s=document.createElement("select");s.setAttribute("id","edit-project"),o.appendChild(s),s.append(X(n)),a.forEach((e=>{e!==n&&s.append(X(e))}));const p=document.createElement("input");p.setAttribute("type","submit"),p.setAttribute("value","Confirm"),o.appendChild(p);const m=document.createElement("button");return m.classList.add("cancel-edit"),m.textContent="Cancel",o.appendChild(m),o}(e,ee.getContexts());t.onsubmit=i=>{i.preventDefault();const c=t.querySelector("#edit-name").value,l=t.querySelector("#edit-due-date").value?`${t.querySelector("#edit-due-date").value}T00:00`:null,u=t.querySelector("#edit-project").value;ee.modifyTask(e,{name:c,dueDate:l,context:u}),r.checked=!1;const d=n.querySelector("label");for(;d.firstChild;)d.removeChild(d.firstChild);d.append(document.createElement("span")),d.append(document.createTextNode(`${c}`)),o.textContent=V(l),a.textContent="default"===u?"":u;const s=ee.getCurrent();"default"!==s&&u!==s&&n.remove(),se()},n.append(t)})),c.addEventListener("click",(()=>{n.remove(),ee.deleteTask(e)})),oe.append(n)},me=e=>{const t="default"===e;for(te.textContent=t?"":e;oe.firstChild;)oe.removeChild(oe.firstChild);const n=ee.set(e);de(!1);const r=ee.getContexts();for(;ie.firstChild;)ie.removeChild(ie.firstChild);r.forEach((t=>{const n=function(e,t){const n=document.createElement("button");return n.classList.add("project-button"),n.textContent="default"===e?"Inbox":e,t&&n.classList.add("current-context"),n}(t,t===e);n.addEventListener("click",(()=>{me(t)})),ie.append(n)})),n&&n.forEach((e=>pe(e,t)))};ae.addEventListener("click",(()=>{ne.value&&(pe(ee.addTask({name:ne.value,dueDate:re.value?`${re.value}T00:00`:null,context:ee.getCurrent(),completed:!1})),re.value="",ne.value="",se())})),ce.addEventListener("click",(()=>{de();const e=le.querySelector("#add"),t=le.querySelector("#cancel");e.addEventListener("click",(()=>{const e=ue.value||null;e&&!ee.isContext(e)?(me(e),ue.value=""):ue.focus()})),t.addEventListener("click",de)})),me("default")})()})();